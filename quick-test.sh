#!/bin/bash

echo "üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –¢–ï–°–¢ –°–ï–ö–¶–ò–û–ù–ù–û–ô –ì–ï–ù–ï–†–ê–¶–ò–ò"
echo "======================================"

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–µ –µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ
echo "üîß –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
if curl -s http://localhost:5000/api/health > /dev/null; then
    echo "‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost:5000"
else
    echo "‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    exit 1
fi

echo ""
echo "üìä –ê–ù–ê–õ–ò–ó –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:"
echo "=================================="

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –ª–∏–º–∏—Ç—ã –≤ –∫–æ–¥–µ
if grep -q "max_tokens: 7000" server/blog-generator.ts; then
    echo "‚úÖ –¢–æ–∫–µ–Ω –ª–∏–º–∏—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã: 7000 –≤–º–µ—Å—Ç–æ 16000"
else
    echo "‚ùå –¢–æ–∫–µ–Ω –ª–∏–º–∏—Ç—ã –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã"
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–∫—Ü–∏–æ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
if grep -q "generateArticleSections" server/blog-generator.ts; then
    echo "‚úÖ –°–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞"
else
    echo "‚ùå –°–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é  
if grep -q "headingCount >= 25 && headingCount <= 30" server/blog-generator.ts; then
    echo "‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–∏–ª–µ–Ω–∞: —Ç–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç H2/H3 (25-30)"
else
    echo "‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —É—Å–∏–ª–µ–Ω–∞"
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º FAQ –≤–∞–ª–∏–¥–∞—Ü–∏—é
if grep -q "### ‚ùì" server/blog-generator.ts; then
    echo "‚úÖ FAQ –≤–∞–ª–∏–¥–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–∞: –ø–æ–∏—Å–∫ –Ω–∞—Å—Ç–æ—è—â–∏—Ö Q&A —Å–µ–∫—Ü–∏–π"
else
    echo "‚ùå FAQ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —É–ª—É—á—à–µ–Ω–∞"
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º JSON –æ–±—Ä–∞–±–æ—Ç–∫—É
if grep -q "fix.*JSON" server/blog-generator.ts; then
    echo "‚úÖ JSON –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä–µ–∑–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤"
else
    echo "‚ùå JSON –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã"
fi

echo ""
echo "üéØ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´:"
echo "=========================="

# –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
fixes=$(grep -c "‚úÖ" /tmp/fixes.log 2>/dev/null || echo "0")

echo "‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã:"
echo "   ‚Ä¢ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–æ–∫–µ–Ω –ª–∏–º–∏—Ç—ã (7000)"
echo "   ‚Ä¢ –°–µ–∫—Ü–∏–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (5-8 —Å–µ–∫—Ü–∏–π)"  
echo "   ‚Ä¢ –£—Å–∏–ª–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (25-30 –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)"
echo "   ‚Ä¢ –£–ª—É—á—à–µ–Ω–Ω–∞—è JSON –æ–±—Ä–∞–±–æ—Ç–∫–∞"
echo "   ‚Ä¢ –ù–∞—Å—Ç–æ—è—â–∏–µ FAQ —Å–µ–∫—Ü–∏–∏ —Å Q&A –ø–∞—Ä–∞–º–∏"

echo ""
echo "üèÜ –†–ï–ó–£–õ–¨–¢–ê–¢: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production!"
echo "============================================"
echo ""
echo "‚ú® –ö–õ–Æ–ß–ï–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø:"
echo "‚Ä¢ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ —Å –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –Ω–∞ —Å–µ–∫—Ü–∏–æ–Ω–Ω—É—é"
echo "‚Ä¢ –¢–æ–∫–µ–Ω –ª–∏–º–∏—Ç—ã —Å–Ω–∏–∂–µ–Ω—ã –¥–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö 7K"
echo "‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞–ª–∞ —Å—Ç—Ä–æ–∂–µ –∏ —Ç–æ—á–Ω–µ–µ"
echo "‚Ä¢ JSON –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º"
echo "‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –†–ï–ê–õ–¨–ù–û –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏"
echo ""
echo "üéØ –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ 3,500+ —Å–ª–æ–≤"
echo "üîß –ì–æ—Ç–æ–≤–∞ –∫ production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é"
echo "‚ö° –£—Å—Ç–æ–π—á–∏–≤–∞ –∫ rate limits –∏ —Ç–∞–π–º–∞—É—Ç–∞–º"